#Проект API для YaTube

###Описание

API для YaTube представляет собой проект социальной сети в которой релизованы возможности публиковать записи, комментировать записи и реализована возможность подписатьс или отписаться от авторов.

###Запуск проекта

- Клонировать репозиторий и перейти в него в командной строке.
<p>`git clone https://github.com/petrovi-4/api_final_yatube.git`</p>
- Установить и активировать виртуальное окружение *(версия Python не ниже 3.7)*:
<p>`python3 -m venv env`</p>
<p>`sourse venv/bin/activate`</p>
- Установить зависимости из файла **requirements.txt**:
<p>`python3 -m pip install --upgrade pip`</p>
<p>`pip install -r requirements.txt`</p>
- Выполнить миграции:
<p>`python manage.py migrate`</p>
- Создаём суперпользователя:
<p>`python manage.py createseperuser`</p>
- Запускаем проект:
<p>`pyhton manage.py runserver`</p>

###Примеры работы с API для всех пользователей

Для неавторизованных пользователей раюота с API доступна в режиме чтения, что-то изменить, создать, подписаться на авторов не получится.
<p>`GET /api/v1/posts/` - получить список всех постов.</p>
<p>`GET /api/v1/posts/{id}/` - получение публикации по id.</p>
<p>`GET /api/v1/groups/` - получение списка доступных групп.</p>
<p>`GET /api/v1/groups/{id}/` - получение информации о группе по id.</p>
<p>`GET /api/v1/{post_id}/comments/` - получение всех комментариев поста.</p>
<p>`GET /api/v1/{post_id}/cpmments/{id}/` - получение комментария к посту по id</p>

###Примеры работы с API для авторизованных пользователей

Для создания поста используем:
<p>`POST /api/v1/posts/`</p>
Обновление поста:
<p>`PUT /api/v1/posts/{id}/`</p>
Частичное обновление поста:
<p>`PATCH /api/v1/posts/{id}/`</p>
Удаление поста:
<p>`DEL /api/v1/posts/{id}/`</p>
Получение доступа к эндпоинту /api/v1/follow/ доступен только авторизированным пользователям.
<p>`GET /api/v1/follow/` - подписка пользователя от имени которого сделан запрос на пользователя переданного в теле запроса.</p>

- Авторизированные пользователя могут создавать посты, комментировать посты и подписываться на других пользователей.
- Пользователи могут изменять и удалять контент, автором которого они являются.

####Добавлять группу в проект нужно через админ панель Django:

`admin/` - после авторизации, переходим в раздел Groups и создаём группы

Доступ авторизированным пользователям доступен по JWT токену, который можно получить:
<p>`POST /api/v1/jwt/create/`</p>
Передав в body данные пользователя:
    <pre>
    {
    "username": "string", 
    "password": "string"
    }</pre>
Полученный токен добавляем в headers ([Postman](https://www.postman.com/downloads/)), после будут доступны все функции проекта:
<pre>Authorization: Bearer {your_token}</pre>
Обновить JWT-токен:
<pre>POST /api/v1/jwt/refresh/</pre>
В проекте API реализована пагинация (LimitOffsetPagination):
<pre>GET /api/v1/posts/?limit=5&offset=0 - пагинация на 5 постов, начиная с первого</pre>